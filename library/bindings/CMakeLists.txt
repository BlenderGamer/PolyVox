option(ENABLE_BINDINGS "Build Python bindings" ON)
if(ENABLE_BINDINGS)
	find_package(SWIG)
	mark_as_advanced(SWIG_DIR SWIG_VERSION)
	set_package_properties(SWIG PROPERTIES DESCRIPTION "Bindings generator" URL http://www.swig.org)
	find_package(PythonLibs)
	set_package_properties(PythonLibs PROPERTIES DESCRIPTION "Programming language" URL http://www.python.org)
	if(SWIG_FOUND AND PYTHONLIBS_FOUND)
		set(BUILD_BINDINGS ON CACHE BOOL "Will the bindings be built" FORCE )
		include(${SWIG_USE_FILE})
		
		include_directories(${PYTHON_INCLUDE_PATH})
		include_directories(${PolyVoxCore_SOURCE_DIR}/include ${PolyVoxCore_SOURCE_DIR}/include/PolyVoxCore)
		link_directories(${PolyVoxCore_BINARY_DIR})

		set(CMAKE_SWIG_FLAGS "")
		set_source_files_properties(PolyVoxCore.i PROPERTIES CPLUSPLUS ON)
		
		#set_source_files_properties(PolyVoxCore.i PROPERTIES SWIG_FLAGS "-builtin")
		swig_add_module(PolyVoxCore python PolyVoxCore.i)
		swig_link_libraries(PolyVoxCore ${PYTHON_LIBRARIES} PolyVoxCore)
		#set_target_properties(${SWIG_MODULE_PolyVoxCore_REAL_NAME} PROPERTIES SUFFIX ".pyd")
	else()
		set(BUILD_BINDINGS OFF CACHE BOOL "Will the bindings be built" FORCE)
	endif()
else()
	set(BUILD_BINDINGS OFF CACHE BOOL "Will the bindings be built" FORCE)
endif()
mark_as_advanced(FORCE BUILD_BINDINGS)
